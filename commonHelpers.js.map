{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '42454859-ed417d87285a7db1b1c819d54';\n\nexport function searchImages(searchInput) {\n    return fetch(`https://pixabay.com/api/?key=${apiKey}&q=${searchInput}&image_type=photo&orientation=horizontal&safesearch=true`)\n        .then(function (response) {\n            if (!response.ok) {\n                throw new Error('Failed to fetch images');\n            }\n            return response.json();\n        })\n        .then(function (data) {\n            return data.hits;\n        })\n        .catch(function (error) {\n            throw new Error(`Error fetching data: ${error.message}`);\n        });\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nexport function renderGallery(imgs) {\n    \n    loader.style.display = 'none';\n\n    if (imgs.length === 0) {\n        iziToast.show({\n    message: 'Sorry, there are no images matching </br> your search query. Please try again!',\n    messageColor: 'white',\n    backgroundColor: '#EF4040',\n    position: 'topRight',\n    iconColor: 'white',\n    close: true,\n    displayMode: 1,\n    timeout: 3000\n});\n        return;\n    }\n\n    imgs.forEach(img => {\n        const card = document.createElement('div');\n        card.classList.add('card');\n        card.innerHTML = `\n        <li><a href=\"${img.largeImageURL}\" data-lightbox=\"gallery\">\n                <img src=\"${img.webformatURL}\" alt=\"${img.tags}\">\n            </a>\n            <div>\n            <p> <span>Likes:</span> <br/> ${img.likes}</p>\n            <p> <span>Views:</span> <br/> ${img.views}</p>\n            <p> <span>Comments:</span> <br/> ${img.comments}</p>\n            <p> <span>Downloads:</span> <br/> ${img.downloads}</p>\n            </div>\n            </li>\n        `;\n        gallery.appendChild(card);\n    });\n\n    lightbox.refresh();\n//     if (typeof lightbox !== 'undefined') {\n//     lightbox.refresh();\n//   }\n}\n","import { searchImages } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\nconst searchImg = document.getElementById('search-img');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nloader.style.display = 'none';\n\nform.addEventListener('submit', async function (e) {\n\n    e.preventDefault();\n    const searchInput = searchImg.value.trim();\n\n    if (searchInput === '') {\n        iziToast.error({\n            title: 'Error',\n            position: 'topRight',\n            message: 'Please enter a search term'\n        });\n        return;\n    }\n\n    loader.style.display = 'block';\n    gallery.innerHTML = '';\n\n    searchImages(searchInput)\n        .then(function (imgs) {\n            renderGallery(imgs);\n            searchImg.value = '';\n        })\n        .catch(function (error) {\n            console.error('Error fetching data:', error);\n            iziToast.error({\n                title: 'Error',\n                position: 'topRight',\n                message: 'An error occurred. Please try again.'\n            });\n        })\n        .finally(function () {\n            loader.style.display = 'none';\n        });\n});\n"],"names":["apiKey","searchImages","searchInput","response","data","error","loader","gallery","lightbox","SimpleLightbox","renderGallery","imgs","iziToast","img","card","form","searchImg","e"],"mappings":"6vBAAA,MAAMA,EAAS,qCAER,SAASC,EAAaC,EAAa,CACtC,OAAO,MAAM,gCAAgCF,CAAM,MAAME,CAAW,0DAA0D,EACzH,KAAK,SAAUC,EAAU,CACtB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,wBAAwB,EAE5C,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAK,SAAUC,EAAM,CAClB,OAAOA,EAAK,IACxB,CAAS,EACA,MAAM,SAAUC,EAAO,CACpB,MAAM,IAAI,MAAM,wBAAwBA,EAAM,OAAO,EAAE,CACnE,CAAS,CACT,CCXA,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,YAAY,EAEzC,SAASC,EAAcC,EAAM,CAIhC,GAFAL,EAAO,MAAM,QAAU,OAEnBK,EAAK,SAAW,EAAG,CACnBC,EAAS,KAAK,CAClB,QAAS,iFACT,aAAc,QACd,gBAAiB,UACjB,SAAU,WACV,UAAW,QACX,MAAO,GACP,YAAa,EACb,QAAS,GACb,CAAC,EACO,MACH,CAEDD,EAAK,QAAQE,GAAO,CAChB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EACzBA,EAAK,UAAY;AAAA,uBACFD,EAAI,aAAa;AAAA,4BACZA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,4CAGlBA,EAAI,KAAK;AAAA,4CACTA,EAAI,KAAK;AAAA,+CACNA,EAAI,QAAQ;AAAA,gDACXA,EAAI,SAAS;AAAA;AAAA;AAAA,UAIrDN,EAAQ,YAAYO,CAAI,CAChC,CAAK,EAEDN,EAAS,QAAO,CAIpB,CC9CA,MAAMO,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,eAAe,YAAY,EAChDV,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAO,MAAM,QAAU,OAEvBS,EAAK,iBAAiB,SAAU,eAAgBE,EAAG,CAE/CA,EAAE,eAAc,EAChB,MAAMf,EAAcc,EAAU,MAAM,KAAI,EAExC,GAAId,IAAgB,GAAI,CACpB,SAAS,MAAM,CACX,MAAO,QACP,SAAU,WACV,QAAS,4BACrB,CAAS,EACD,MACH,CAEDI,EAAO,MAAM,QAAU,QACvBC,EAAQ,UAAY,GAEpBN,EAAaC,CAAW,EACnB,KAAK,SAAUS,EAAM,CAClBD,EAAcC,CAAI,EAClBK,EAAU,MAAQ,EAC9B,CAAS,EACA,MAAM,SAAUX,EAAO,CACpB,QAAQ,MAAM,uBAAwBA,CAAK,EAC3C,SAAS,MAAM,CACX,MAAO,QACP,SAAU,WACV,QAAS,sCACzB,CAAa,CACb,CAAS,EACA,QAAQ,UAAY,CACjBC,EAAO,MAAM,QAAU,MACnC,CAAS,CACT,CAAC"}